<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InstantParty | Find your party place!</title>
    <link rel="stylesheet" href="css_files/listings_style.css" />
    <script>
      function menuToggle() {
        const toggleMenu = document.querySelector(".menu");
        toggleMenu.classList.toggle("active");
      }
    </script>
  </head>
  <!-- Profile Dropdown -->
  <body>
    <div id="profile_dropdown">
      <div class="profile" onclick="menuToggle()">
        <img src="images/kuchipatchi.png" alt="Profile Image" width="100" />
      </div>
      <div class="menu">
        <h3>Username<br /><span>Location</span></h3>
        <ul>
          <li>
            <img src="images/profile.png" alt="Icon" /><a
              href="profile_settings.html"
              >My Profile</a
            >
          </li>
          <li>
            <img src="images/profile.png" alt="Icon" /><a href="settings.html"
              >Settings</a
            >
          </li>
          <li>
            <img src="images/profile.png" alt="Icon" /><a href="#"
              >Host your space</a
            >
          </li>
          <li>
            <img src="images/profile.png" alt="Icon" /><a href="login.html"
              >Logout</a
            >
          </li>
        </ul>
      </div>
    </div>

    <!-- Search Bar -->
    <div id="search_bar">
      <div class="container">
        <form method="GET">
          <div class="form-group">
            <label for="destination">Location</label>
            <input
              type="text"
              id="destination"
              name="destination"
              list="destinations"
              placeholder="Search destinations"
              style="width: 150px"
            />
            <datalist id="destinations">
              <option value="Las Vegas, NV"></option>
              <option value="San Diego, CA"></option>
              <option value="Seattle, WA"></option>
              <option value="Los Angeles, CA"></option>
            </datalist>
          </div>

          <div class="form-group">
            <label for="check_in_date">Check in</label>
            <input
              type="text"
              id="check_in_date"
              name="check_in_date"
              placeholder="Add dates"
              onfocus="(this.type='date')"
              style="width: 125px"
            />
          </div>

          <div class="form-group">
            <label for="check_out_date">Check out</label>
            <input
              type="text"
              id="check_out_date"
              name="check_out_date"
              placeholder="Add dates"
              onfocus="(this.type='date')"
              style="width: 125px"
            />
          </div>

          <div class="form-group">
            <label for="num_of_guests">Guests</label>
            <input
              type="number"
              id="num_of_guests"
              name="num_of_guests"
              placeholder="Add guests"
              style="width: 125px"
            />
          </div>

          <button type="submit" class="search-button">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              style="fill: beige; transform: scale(1.25)"
            >
              <path
                d="M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"
              ></path>
            </svg>
          </button>
        </form>
      </div>
    </div>
    <!-- Listings -->
    <div class="listing_pic">
      <div
        class="listing_card"
        data-location="Los Angeles, CA"
        data-guests="10"
        data-price="200"
      >
        <img src="images/LA_listing.png" alt="Party Venue 1" />
        <div class="info">
          <h4>Cozy Party Loft</h4>
          <p>Los Angeles, CA · $200/night</p>
        </div>
        <div class="details">
          <p>
            This cozy loft is perfect for small gatherings and parties.
            Centrally located in downtown Los Angeles, with a rooftop view and
            spacious interiors!
          </p>
          <button class="reserve-button" href="#">Make a Reservation</button>
        </div>
      </div>
    </div>
    <div class="listing_pic">
      <div
        class="listing_card"
        data-location="San Diego, CA"
        data-guests="20"
        data-price="350"
      >
        <img src="images/SD_listing.png" alt="Party Venue 2" />
        <div class="info">
          <h4>Beachside House</h4>
          <p>San Diego, CA · $350/night</p>
        </div>
        <div class="details">
          <p>
            This charming outdoor venue is perfect for elegant gatherings and
            intimate celebrations. With string lights, a vintage bar setup, and
            cozy lounge seating under the stars, it offers a romantic ambiance
            just steps away from the ocean.
          </p>
          <button class="reserve-button" href="#">Make a Reservation</button>
        </div>
      </div>
    </div>
    <div class="listing_pic">
      <div
        class="listing_card"
        data-location="Seattle, WA"
        data-guests="5"
        data-price="500"
      >
        <img src="images/WA_listing.png" alt="Party Venue 3" />
        <div class="info">
          <h4>Luxury Downtown Penthouse</h4>
          <p>Seattle, WA · $500/night</p>
        </div>
        <div class="details">
          <p>
            Elevate your lifestyle at Downtown, where luxury meets the sky. This
            stunning penthouse offers panoramic city views, designer interiors,
            and top-tier amenities — perfect for high-end living, unforgettable
            events, and exclusive escapes in the heart of Las Vegas.
          </p>
          <button class="reserve-button" href="#">Make a Reservation</button>
        </div>
      </div>
    </div>
    <div class="listing_pic">
      <div
        class="listing_card"
        data-location="Las Vegas, Nevada"
        data-guests="30"
        data-price="450"
      >
        <img src="images/LV_listing.png" alt="Party Venue 3" />
        <div class="info">
          <h4>Fresh Bar and Lounge</h4>
          <p>Las Vegas, NV · $450/night</p>
        </div>
        <div class="details">
          <p>
            Experience the ultimate nightlife at [Venue Name], Las Vegas'
            premier bar and lounge. Sip handcrafted cocktails, savor small
            bites, and vibe to live DJs in a sleek, vibrant atmosphere just
            steps from the Strip. Perfect for unforgettable nights out, private
            parties, and late-night adventures.
          </p>
          <button class="reserve-button" href="#">Make a Reservation</button>
        </div>
      </div>
    </div>
    <div class="listing_pic">
      <div
        class="listing_card"
        data-location="New York City, New York"
        data-guests="50"
        data-price="500"
      >
        <img src="images/NYC_listing.png" alt="Party Venue 6" />
        <div class="info">
          <h4>Gaming Penthouse</h4>
          <p>New York City, NY · $500/night</p>
        </div>
        <div class="details">
          <p>
            Experience luxury and fun in this stunning penthouse with a
            fully-equipped game room. Located in the heart of New York City,
            this high-rise retreat offers panoramic skyline views, sleek
            interiors, and top-of-the-line gaming consoles. Whether you're
            hosting a lively gathering or enjoying a night in, the game room
            with billiards, arcade machines, and virtual reality setups ensures
            endless entertainment. Perfect for game lovers and city explorers
            alike, this penthouse is the ultimate place to play and relax in
            style.
          </p>
          <button class="reserve-button" href="#">Make a Reservation</button>
        </div>
      </div>
    </div>

    <script>
      const form = document.querySelector("#search_bar form");

      form.addEventListener("submit", function (event) {
        event.preventDefault(); // Prevent the page from refreshing

        const destination = document
          .querySelector("#destination")
          .value.trim()
          .toLowerCase();
        const guests =
          parseInt(document.querySelector("#num_of_guests").value.trim()) || 0;

        const listings = document.querySelectorAll(".listing_card");

        listings.forEach((listing) => {
          const location = listing.dataset.location.toLowerCase();
          const maxGuests = parseInt(listing.dataset.guests);
          const matchesLocation =
            destination === "" || location.includes(destination);
          const matchesGuests = guests === 0 || guests <= maxGuests;

          // Show matching listings
          if (matchesLocation && matchesGuests) {
            listing.style.display = "block";
          } else {
            listing.style.display = "none";
          }
        });
      });
    </script>

    <script>
      const listings = document.querySelectorAll(".listing_card");

      listings.forEach((listing) => {
        listing.addEventListener("click", function (e) {
          // Prevent click on the button from triggering the listing toggle
          if (e.target.classList.contains("reserve-button")) return;

          listing.classList.toggle("show-details"); // Toggle show-details class
        });
      });
      const reserveButtons = document.querySelectorAll(".reserve-button");
      reserveButtons.forEach((button) => {
        button.addEventListener("click", function (e) {
          e.stopPropagation();
          alert("Reservation process started!");
        });
      });
    </script>

    <!-- Footer -->
    <footer id="site_footer">
      <p>&copy; 2025 InstantParty. All rights reserved.</p>
      <div class="footer-links">
        <a href="#">Privacy</a>
        <a href="terms.html">Terms</a>
        <a href="#">Support</a>
      </div>
    </footer>
  </body>
</html>
